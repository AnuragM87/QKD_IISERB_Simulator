

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API Reference &mdash; qkdProtocols 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=f2a433a1"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Simulation Models" href="simulation-models.html" />
    <link rel="prev" title="User Guide" href="user-guide.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            qkdProtocols
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick-start.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#core-classes">Core Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#network-management">Network Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#simulation.Network.Network"><code class="docutils literal notranslate"><span class="pre">simulation.Network.Network</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulation.Network.Node"><code class="docutils literal notranslate"><span class="pre">simulation.Network.Node</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#hardware-components">Hardware Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#simulation.Hardware.LightSource"><code class="docutils literal notranslate"><span class="pre">simulation.Hardware.LightSource</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulation.Hardware.PhaseModulator"><code class="docutils literal notranslate"><span class="pre">simulation.Hardware.PhaseModulator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulation.Hardware.IntensityModulator"><code class="docutils literal notranslate"><span class="pre">simulation.Hardware.IntensityModulator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulation.Hardware.OpticalChannel"><code class="docutils literal notranslate"><span class="pre">simulation.Hardware.OpticalChannel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulation.Hardware.MachZehnderInterferometer"><code class="docutils literal notranslate"><span class="pre">simulation.Hardware.MachZehnderInterferometer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulation.Hardware.SinglePhotonDetector"><code class="docutils literal notranslate"><span class="pre">simulation.Hardware.SinglePhotonDetector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulation.Hardware.SMF"><code class="docutils literal notranslate"><span class="pre">simulation.Hardware.SMF</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#protocol-implementations">Protocol Implementations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dps-qkd-sender">DPS-QKD Sender</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cow-qkd-sender">COW-QKD Sender</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bb84-qkd-sender">BB84-QKD Sender</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dps-qkd-receiver">DPS-QKD Receiver</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cow-qkd-receiver">COW-QKD Receiver</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bb84-qkd-receiver">BB84-QKD Receiver</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#analysis-functions">Analysis Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#main.calculate_qber"><code class="docutils literal notranslate"><span class="pre">main.calculate_qber()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#main.postprocessing"><code class="docutils literal notranslate"><span class="pre">main.postprocessing()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#simulation-functions">Simulation Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#main.run_point_to_point_simulation"><code class="docutils literal notranslate"><span class="pre">main.run_point_to_point_simulation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#main.run_multi_node_trusted_relay_simulation"><code class="docutils literal notranslate"><span class="pre">main.run_multi_node_trusted_relay_simulation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#main.run_point_to_point_cow_simulation"><code class="docutils literal notranslate"><span class="pre">main.run_point_to_point_cow_simulation()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rest-api">REST API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#base-url">Base URL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#endpoints">Endpoints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#data-models">Data Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#api.NodeModel"><code class="docutils literal notranslate"><span class="pre">api.NodeModel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#api.NodeModel.id"><code class="docutils literal notranslate"><span class="pre">api.NodeModel.id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.NodeModel.detector_efficiency"><code class="docutils literal notranslate"><span class="pre">api.NodeModel.detector_efficiency</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.NodeModel.dark_count_rate"><code class="docutils literal notranslate"><span class="pre">api.NodeModel.dark_count_rate</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.NodeModel.mu"><code class="docutils literal notranslate"><span class="pre">api.NodeModel.mu</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.NodeModel.num_pulses"><code class="docutils literal notranslate"><span class="pre">api.NodeModel.num_pulses</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.NodeModel.pulse_repetition_rate"><code class="docutils literal notranslate"><span class="pre">api.NodeModel.pulse_repetition_rate</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#api.ChannelModel"><code class="docutils literal notranslate"><span class="pre">api.ChannelModel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#api.ChannelModel.id"><code class="docutils literal notranslate"><span class="pre">api.ChannelModel.id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.ChannelModel.from_"><code class="docutils literal notranslate"><span class="pre">api.ChannelModel.from_</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.ChannelModel.to"><code class="docutils literal notranslate"><span class="pre">api.ChannelModel.to</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.ChannelModel.fiber_length_km"><code class="docutils literal notranslate"><span class="pre">api.ChannelModel.fiber_length_km</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.ChannelModel.fiber_attenuation_db_per_km"><code class="docutils literal notranslate"><span class="pre">api.ChannelModel.fiber_attenuation_db_per_km</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.ChannelModel.wavelength_nm"><code class="docutils literal notranslate"><span class="pre">api.ChannelModel.wavelength_nm</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.ChannelModel.fiber_type"><code class="docutils literal notranslate"><span class="pre">api.ChannelModel.fiber_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.ChannelModel.phase_flip_prob"><code class="docutils literal notranslate"><span class="pre">api.ChannelModel.phase_flip_prob</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#api.SimParams"><code class="docutils literal notranslate"><span class="pre">api.SimParams</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#api.SimParams.protocol"><code class="docutils literal notranslate"><span class="pre">api.SimParams.protocol</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.SimParams.nodes"><code class="docutils literal notranslate"><span class="pre">api.SimParams.nodes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.SimParams.channels"><code class="docutils literal notranslate"><span class="pre">api.SimParams.channels</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.SimParams.cow_monitor_pulse_ratio"><code class="docutils literal notranslate"><span class="pre">api.SimParams.cow_monitor_pulse_ratio</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.SimParams.cow_detection_threshold_photons"><code class="docutils literal notranslate"><span class="pre">api.SimParams.cow_detection_threshold_photons</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.SimParams.cow_extinction_ratio_db"><code class="docutils literal notranslate"><span class="pre">api.SimParams.cow_extinction_ratio_db</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#api.SimParams.bit_flip_error_prob"><code class="docutils literal notranslate"><span class="pre">api.SimParams.bit_flip_error_prob</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#error-handling">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cors-support">CORS Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#frontend-components">Frontend Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#react-components">React Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#QKDForm"><code class="docutils literal notranslate"><span class="pre">QKDForm</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#QKDNetwork"><code class="docutils literal notranslate"><span class="pre">QKDNetwork</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#Results"><code class="docutils literal notranslate"><span class="pre">Results</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-files">Configuration Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#performance-considerations">Performance Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#security-considerations">Security Considerations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="simulation-models.html">Simulation Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="protocols.html">QKD Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to QKD Simulation Platform</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">qkdProtocols</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">API Reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api-reference.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading"></a></h1>
<p>This section provides comprehensive documentation for all classes, methods, and functions in the QKD Simulation Platform.</p>
<section id="core-classes">
<h2>Core Classes<a class="headerlink" href="#core-classes" title="Link to this heading"></a></h2>
<section id="network-management">
<h3>Network Management<a class="headerlink" href="#network-management" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="simulation.Network.Network">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Network.</span></span><span class="sig-name descname"><span class="pre">Network</span></span><a class="headerlink" href="#simulation.Network.Network" title="Link to this definition"></a></dt>
<dd><p>Main network management class that handles nodes, connections, and end-to-end key establishment.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Network.Network.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Network.Network.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize an empty network.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Network.Network.add_node">
<span class="sig-name descname"><span class="pre">add_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avg_photon_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector_efficiency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dark_count_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cow_monitor_pulse_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cow_detection_threshold_photons</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cow_extinction_ratio_db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Network.Network.add_node" title="Link to this definition"></a></dt>
<dd><p>Add a new node to the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_id</strong> (<em>str</em>) – Unique identifier for the node</p></li>
<li><p><strong>avg_photon_number</strong> (<em>float</em>) – Average photon number per pulse (0 &lt; μ &lt; 1)</p></li>
<li><p><strong>detector_efficiency</strong> (<em>float</em>) – Quantum efficiency of the detector (0-1)</p></li>
<li><p><strong>dark_count_rate</strong> (<em>float</em>) – Dark count rate per nanosecond</p></li>
<li><p><strong>cow_monitor_pulse_ratio</strong> (<em>float</em>) – COW monitoring pulse ratio (0-1)</p></li>
<li><p><strong>cow_detection_threshold_photons</strong> (<em>float</em>) – COW detection threshold in photons</p></li>
<li><p><strong>cow_extinction_ratio_db</strong> (<em>float</em>) – COW extinction ratio in dB</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created Node instance</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#simulation.Network.Node" title="simulation.Network.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">simulation.Network.Node</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Network.Network.connect_nodes">
<span class="sig-name descname"><span class="pre">connect_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node1_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node2_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_km</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attenuation_db_per_km</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Network.Network.connect_nodes" title="Link to this definition"></a></dt>
<dd><p>Connect two nodes with an optical channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node1_id</strong> (<em>str</em>) – ID of the first node</p></li>
<li><p><strong>node2_id</strong> (<em>str</em>) – ID of the second node</p></li>
<li><p><strong>distance_km</strong> (<em>float</em>) – Distance between nodes in kilometers</p></li>
<li><p><strong>attenuation_db_per_km</strong> (<em>float</em>) – Fiber attenuation in dB per kilometer</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Network.Network.establish_end_to_end_raw_key">
<span class="sig-name descname"><span class="pre">establish_end_to_end_raw_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">receiver_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_pulses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pulse_repetition_rate_ns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Network.Network.establish_end_to_end_raw_key" title="Link to this definition"></a></dt>
<dd><p>Establish end-to-end raw sifted key through trusted relay nodes (DPS-QKD).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sender_id</strong> (<em>str</em>) – ID of the sender node</p></li>
<li><p><strong>receiver_id</strong> (<em>str</em>) – ID of the receiver node</p></li>
<li><p><strong>path_nodes</strong> (<em>list</em>) – List of node IDs in the path from sender to receiver</p></li>
<li><p><strong>num_pulses</strong> (<em>int</em>) – Number of pulses to generate per link</p></li>
<li><p><strong>pulse_repetition_rate_ns</strong> (<em>float</em>) – Pulse repetition rate in nanoseconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Final end-to-end raw sifted key or None if failed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Network.Network.establish_end_to_end_raw_key_cow">
<span class="sig-name descname"><span class="pre">establish_end_to_end_raw_key_cow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">receiver_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_pulses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pulse_repetition_rate_ns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monitor_pulse_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detection_threshold_photons</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Network.Network.establish_end_to_end_raw_key_cow" title="Link to this definition"></a></dt>
<dd><p>Establish end-to-end raw sifted key through trusted relay nodes (COW-QKD).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sender_id</strong> (<em>str</em>) – ID of the sender node</p></li>
<li><p><strong>receiver_id</strong> (<em>str</em>) – ID of the receiver node</p></li>
<li><p><strong>path_nodes</strong> (<em>list</em>) – List of node IDs in the path from sender to receiver</p></li>
<li><p><strong>num_pulses</strong> (<em>int</em>) – Number of pulses to generate per link</p></li>
<li><p><strong>pulse_repetition_rate_ns</strong> (<em>float</em>) – Pulse repetition rate in nanoseconds</p></li>
<li><p><strong>monitor_pulse_ratio</strong> (<em>float</em>) – COW monitoring pulse ratio</p></li>
<li><p><strong>detection_threshold_photons</strong> (<em>float</em>) – COW detection threshold</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Final end-to-end raw sifted key or None if failed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Network.Network.establish_end_to_end_raw_key_bb84">
<span class="sig-name descname"><span class="pre">establish_end_to_end_raw_key_bb84</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">receiver_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_pulses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pulse_repetition_rate_ns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Network.Network.establish_end_to_end_raw_key_bb84" title="Link to this definition"></a></dt>
<dd><p>Establish end-to-end raw sifted key through trusted relay nodes (BB84-QKD).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sender_id</strong> (<em>str</em>) – ID of the sender node</p></li>
<li><p><strong>receiver_id</strong> (<em>str</em>) – ID of the receiver node</p></li>
<li><p><strong>path_nodes</strong> (<em>list</em>) – List of node IDs in the path from sender to receiver</p></li>
<li><p><strong>num_pulses</strong> (<em>int</em>) – Number of pulses to generate per link</p></li>
<li><p><strong>pulse_repetition_rate_ns</strong> (<em>float</em>) – Pulse repetition rate in nanoseconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Final end-to-end raw sifted key or None if failed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="simulation.Network.Node">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Network.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><a class="headerlink" href="#simulation.Network.Node" title="Link to this definition"></a></dt>
<dd><p>Represents a network node that can act as sender, receiver, or trusted relay.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Network.Node.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avg_photon_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector_efficiency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dark_count_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cow_monitor_pulse_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cow_detection_threshold_photons</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cow_extinction_ratio_db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Network.Node.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a node with protocol-specific components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_id</strong> (<em>str</em>) – Unique identifier for the node</p></li>
<li><p><strong>avg_photon_number</strong> (<em>float</em>) – Average photon number per pulse</p></li>
<li><p><strong>detector_efficiency</strong> (<em>float</em>) – Quantum efficiency of the detector</p></li>
<li><p><strong>dark_count_rate</strong> (<em>float</em>) – Dark count rate per nanosecond</p></li>
<li><p><strong>cow_monitor_pulse_ratio</strong> (<em>float</em>) – COW monitoring pulse ratio</p></li>
<li><p><strong>cow_detection_threshold_photons</strong> (<em>float</em>) – COW detection threshold</p></li>
<li><p><strong>cow_extinction_ratio_db</strong> (<em>float</em>) – COW extinction ratio in dB</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Network.Node.add_link">
<span class="sig-name descname"><span class="pre">add_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neighbor_node_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_instance</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Network.Node.add_link" title="Link to this definition"></a></dt>
<dd><p>Add an optical channel link to a neighbor node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>neighbor_node_id</strong> (<em>str</em>) – ID of the neighbor node</p></li>
<li><p><strong>channel_instance</strong> (<a class="reference internal" href="#simulation.Hardware.OpticalChannel" title="simulation.Hardware.OpticalChannel"><em>OpticalChannel</em></a>) – Optical channel instance</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Network.Node.generate_and_share_key">
<span class="sig-name descname"><span class="pre">generate_and_share_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_pulses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pulse_repetition_rate_ns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_flip_prob</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Network.Node.generate_and_share_key" title="Link to this definition"></a></dt>
<dd><p>Generate and share key using DPS-QKD protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_node</strong> (<a class="reference internal" href="#simulation.Network.Node" title="simulation.Network.Node"><em>Node</em></a>) – Target node for key generation</p></li>
<li><p><strong>num_pulses</strong> (<em>int</em>) – Number of pulses to generate</p></li>
<li><p><strong>pulse_repetition_rate_ns</strong> (<em>float</em>) – Pulse repetition rate in nanoseconds</p></li>
<li><p><strong>phase_flip_prob</strong> (<em>float</em>) – Probability of phase flip noise</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (alice_key, bob_key)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Network.Node.generate_and_share_key_cow">
<span class="sig-name descname"><span class="pre">generate_and_share_key_cow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_pulses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pulse_repetition_rate_ns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monitor_pulse_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detection_threshold_photons</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_flip_prob</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bit_flip_error_prob</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Network.Node.generate_and_share_key_cow" title="Link to this definition"></a></dt>
<dd><p>Generate and share key using COW-QKD protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_node</strong> (<a class="reference internal" href="#simulation.Network.Node" title="simulation.Network.Node"><em>Node</em></a>) – Target node for key generation</p></li>
<li><p><strong>num_pulses</strong> (<em>int</em>) – Number of pulses to generate</p></li>
<li><p><strong>pulse_repetition_rate_ns</strong> (<em>float</em>) – Pulse repetition rate in nanoseconds</p></li>
<li><p><strong>monitor_pulse_ratio</strong> (<em>float</em>) – COW monitoring pulse ratio</p></li>
<li><p><strong>detection_threshold_photons</strong> (<em>float</em>) – COW detection threshold</p></li>
<li><p><strong>phase_flip_prob</strong> (<em>float</em>) – Probability of phase flip noise</p></li>
<li><p><strong>bit_flip_error_prob</strong> (<em>float</em>) – Probability of bit flip error</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (alice_key, bob_key)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Network.Node.generate_and_share_key_bb84">
<span class="sig-name descname"><span class="pre">generate_and_share_key_bb84</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_pulses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pulse_repetition_rate_ns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_flip_prob</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Network.Node.generate_and_share_key_bb84" title="Link to this definition"></a></dt>
<dd><p>Generate and share key using BB84-QKD protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_node</strong> (<a class="reference internal" href="#simulation.Network.Node" title="simulation.Network.Node"><em>Node</em></a>) – Target node for key generation</p></li>
<li><p><strong>num_pulses</strong> (<em>int</em>) – Number of pulses to generate</p></li>
<li><p><strong>pulse_repetition_rate_ns</strong> (<em>float</em>) – Pulse repetition rate in nanoseconds</p></li>
<li><p><strong>phase_flip_prob</strong> (<em>float</em>) – Probability of phase flip noise</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (alice_key, bob_key)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Network.Node.get_raw_sifted_key_with_neighbor">
<span class="sig-name descname"><span class="pre">get_raw_sifted_key_with_neighbor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neighbor_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Network.Node.get_raw_sifted_key_with_neighbor" title="Link to this definition"></a></dt>
<dd><p>Get the raw sifted key shared with a specific neighbor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>neighbor_id</strong> (<em>str</em>) – ID of the neighbor node</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Raw sifted key or None if not found</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Network.Node.relay_key_classically">
<span class="sig-name descname"><span class="pre">relay_key_classically</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender_node_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">receiver_node_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_to_relay</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Network.Node.relay_key_classically" title="Link to this definition"></a></dt>
<dd><p>Relay a key classically between two nodes (for trusted relay networks).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sender_node_id</strong> (<em>str</em>) – ID of the sender node</p></li>
<li><p><strong>receiver_node_id</strong> (<em>str</em>) – ID of the receiver node</p></li>
<li><p><strong>key_to_relay</strong> (<em>list</em>) – Key to relay</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Relayed key</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="hardware-components">
<h3>Hardware Components<a class="headerlink" href="#hardware-components" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="simulation.Hardware.LightSource">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Hardware.</span></span><span class="sig-name descname"><span class="pre">LightSource</span></span><a class="headerlink" href="#simulation.Hardware.LightSource" title="Link to this definition"></a></dt>
<dd><p>Models a weak coherent pulse (WCP) light source with Poissonian photon statistics.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.LightSource.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">average_photon_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.LightSource.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the light source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>average_photon_number</strong> (<em>float</em>) – Average photon number per pulse (0 &lt; μ &lt; 1)</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If average_photon_number is not between 0 and 1</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.LightSource.generate_single_pulse_photon_count">
<span class="sig-name descname"><span class="pre">generate_single_pulse_photon_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.LightSource.generate_single_pulse_photon_count" title="Link to this definition"></a></dt>
<dd><p>Generate photon count for a single pulse using Poissonian statistics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mu</strong> (<em>float</em>) – Average photon number (uses instance value if None)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of photons in the pulse</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.LightSource.get_initial_phase">
<span class="sig-name descname"><span class="pre">get_initial_phase</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.LightSource.get_initial_phase" title="Link to this definition"></a></dt>
<dd><p>Get the initial phase of the light source.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Initial phase in radians</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="simulation.Hardware.PhaseModulator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Hardware.</span></span><span class="sig-name descname"><span class="pre">PhaseModulator</span></span><a class="headerlink" href="#simulation.Hardware.PhaseModulator" title="Link to this definition"></a></dt>
<dd><p>Models a phase modulator for phase encoding in QKD protocols.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.PhaseModulator.modulate_phase">
<span class="sig-name descname"><span class="pre">modulate_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_phase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_phase_shift</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.PhaseModulator.modulate_phase" title="Link to this definition"></a></dt>
<dd><p>Modulate the phase of an optical signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>current_phase</strong> (<em>float</em>) – Current phase in radians</p></li>
<li><p><strong>desired_phase_shift</strong> (<em>float</em>) – Desired phase shift in radians</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New phase in radians (modulo 2π)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="simulation.Hardware.IntensityModulator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Hardware.</span></span><span class="sig-name descname"><span class="pre">IntensityModulator</span></span><a class="headerlink" href="#simulation.Hardware.IntensityModulator" title="Link to this definition"></a></dt>
<dd><p>Models an intensity modulator with finite extinction ratio.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.IntensityModulator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extinction_ratio_db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.IntensityModulator.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the intensity modulator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>extinction_ratio_db</strong> (<em>float</em>) – Extinction ratio in dB</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If extinction ratio is not positive</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.IntensityModulator.modulate">
<span class="sig-name descname"><span class="pre">modulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.IntensityModulator.modulate" title="Link to this definition"></a></dt>
<dd><p>Modulate the intensity of an optical signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_mu</strong> (<em>float</em>) – Base average photon number</p></li>
<li><p><strong>state</strong> (<em>str</em>) – Modulation state (‘on’ or ‘off’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Modulated average photon number</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If state is not ‘on’ or ‘off’</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="simulation.Hardware.OpticalChannel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Hardware.</span></span><span class="sig-name descname"><span class="pre">OpticalChannel</span></span><a class="headerlink" href="#simulation.Hardware.OpticalChannel" title="Link to this definition"></a></dt>
<dd><p>Models an optical fiber channel with distance-dependent attenuation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.OpticalChannel.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distance_km</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attenuation_db_per_km</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.OpticalChannel.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the optical channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distance_km</strong> (<em>float</em>) – Distance in kilometers</p></li>
<li><p><strong>attenuation_db_per_km</strong> (<em>float</em>) – Attenuation in dB per kilometer</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.OpticalChannel.transmit_pulse">
<span class="sig-name descname"><span class="pre">transmit_pulse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">photon_count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.OpticalChannel.transmit_pulse" title="Link to this definition"></a></dt>
<dd><p>Transmit a pulse through the channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>photon_count</strong> (<em>int</em>) – Number of photons to transmit</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of photons received after transmission</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="simulation.Hardware.MachZehnderInterferometer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Hardware.</span></span><span class="sig-name descname"><span class="pre">MachZehnderInterferometer</span></span><a class="headerlink" href="#simulation.Hardware.MachZehnderInterferometer" title="Link to this definition"></a></dt>
<dd><p>Models a Mach-Zehnder interferometer for phase difference measurement.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.MachZehnderInterferometer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ideal_split_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.MachZehnderInterferometer.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the Mach-Zehnder interferometer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ideal_split_ratio</strong> (<em>float</em>) – Ideal beam splitter ratio (default 0.5)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.MachZehnderInterferometer.interfere_pulses">
<span class="sig-name descname"><span class="pre">interfere_pulses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phase_n_minus_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.MachZehnderInterferometer.interfere_pulses" title="Link to this definition"></a></dt>
<dd><p>Calculate interference probabilities for two consecutive pulses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase_n_minus_1</strong> (<em>float</em>) – Phase of the previous pulse</p></li>
<li><p><strong>phase_n</strong> (<em>float</em>) – Phase of the current pulse</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (prob_dm1, prob_dm2) detection probabilities</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="simulation.Hardware.SinglePhotonDetector">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Hardware.</span></span><span class="sig-name descname"><span class="pre">SinglePhotonDetector</span></span><a class="headerlink" href="#simulation.Hardware.SinglePhotonDetector" title="Link to this definition"></a></dt>
<dd><p>Models a single-photon detector with quantum efficiency and dark counts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.SinglePhotonDetector.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quantum_efficiency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dark_count_rate_per_ns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_window_ns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.SinglePhotonDetector.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the single-photon detector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>quantum_efficiency</strong> (<em>float</em>) – Quantum efficiency (0-1)</p></li>
<li><p><strong>dark_count_rate_per_ns</strong> (<em>float</em>) – Dark count rate per nanosecond</p></li>
<li><p><strong>time_window_ns</strong> (<em>float</em>) – Detection time window in nanoseconds</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.SinglePhotonDetector.detect">
<span class="sig-name descname"><span class="pre">detect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">incident_photons</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.SinglePhotonDetector.detect" title="Link to this definition"></a></dt>
<dd><p>Simulate photon detection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>incident_photons</strong> (<em>int</em>) – Number of incident photons</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if a click occurs, False otherwise</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="simulation.Hardware.SMF">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Hardware.</span></span><span class="sig-name descname"><span class="pre">SMF</span></span><a class="headerlink" href="#simulation.Hardware.SMF" title="Link to this definition"></a></dt>
<dd><p>Models a single-mode fiber with configurable parameters.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.SMF.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length_km</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attenuation_db_per_km</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fiber_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'single_mode_fiber'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.SMF.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the fiber.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>length_km</strong> (<em>float</em>) – Fiber length in kilometers</p></li>
<li><p><strong>attenuation_db_per_km</strong> (<em>float</em>) – Attenuation in dB per kilometer</p></li>
<li><p><strong>fiber_type</strong> (<em>str</em>) – Type of fiber</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.SMF.total_attenuation_db">
<span class="sig-name descname"><span class="pre">total_attenuation_db</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.SMF.total_attenuation_db" title="Link to this definition"></a></dt>
<dd><p>Calculate total attenuation in dB.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total attenuation in dB</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Hardware.SMF.transmission_probability">
<span class="sig-name descname"><span class="pre">transmission_probability</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Hardware.SMF.transmission_probability" title="Link to this definition"></a></dt>
<dd><p>Calculate photon transmission probability.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Transmission probability (0-1)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="protocol-implementations">
<h3>Protocol Implementations<a class="headerlink" href="#protocol-implementations" title="Link to this heading"></a></h3>
<section id="dps-qkd-sender">
<h4>DPS-QKD Sender<a class="headerlink" href="#dps-qkd-sender" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="simulation.Sender.SenderDPS">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Sender.</span></span><span class="sig-name descname"><span class="pre">SenderDPS</span></span><a class="headerlink" href="#simulation.Sender.SenderDPS" title="Link to this definition"></a></dt>
<dd><p>Implements the sender side of DPS-QKD protocol.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Sender.SenderDPS.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">avg_photon_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Sender.SenderDPS.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the DPS sender.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>avg_photon_number</strong> (<em>float</em>) – Average photon number per pulse</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Sender.SenderDPS.prepare_and_send_pulse">
<span class="sig-name descname"><span class="pre">prepare_and_send_pulse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_slot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Sender.SenderDPS.prepare_and_send_pulse" title="Link to this definition"></a></dt>
<dd><p>Prepare and send a single pulse with phase encoding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time_slot</strong> (<em>float</em>) – Time slot for the pulse</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (modulated_phase, photon_count)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Sender.SenderDPS.get_pulse_info">
<span class="sig-name descname"><span class="pre">get_pulse_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_slot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Sender.SenderDPS.get_pulse_info" title="Link to this definition"></a></dt>
<dd><p>Get information about a sent pulse.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time_slot</strong> (<em>float</em>) – Time slot of the pulse</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pulse information dictionary or None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="cow-qkd-sender">
<h4>COW-QKD Sender<a class="headerlink" href="#cow-qkd-sender" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="simulation.Sender.SenderCOW">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Sender.</span></span><span class="sig-name descname"><span class="pre">SenderCOW</span></span><a class="headerlink" href="#simulation.Sender.SenderCOW" title="Link to this definition"></a></dt>
<dd><p>Implements the sender side of COW-QKD protocol.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Sender.SenderCOW.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">avg_photon_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monitor_pulse_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extinction_ratio_db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Sender.SenderCOW.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the COW sender.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>avg_photon_number</strong> (<em>float</em>) – Average photon number per pulse</p></li>
<li><p><strong>monitor_pulse_ratio</strong> (<em>float</em>) – Ratio of monitoring pulses</p></li>
<li><p><strong>extinction_ratio_db</strong> (<em>float</em>) – Extinction ratio in dB</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If avg_photon_number is not between 0 and 1</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Sender.SenderCOW.prepare_pulse_train">
<span class="sig-name descname"><span class="pre">prepare_pulse_train</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_total_pulses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Sender.SenderCOW.prepare_pulse_train" title="Link to this definition"></a></dt>
<dd><p>Prepare a complete pulse train with data and monitoring pulses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>num_total_pulses</strong> (<em>int</em>) – Total number of pulses to generate</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of pulse information dictionaries</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Sender.SenderCOW.get_sent_pulse_info">
<span class="sig-name descname"><span class="pre">get_sent_pulse_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_slot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Sender.SenderCOW.get_sent_pulse_info" title="Link to this definition"></a></dt>
<dd><p>Get information about a sent pulse.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time_slot</strong> (<em>float</em>) – Time slot of the pulse</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pulse information dictionary or None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Sender.SenderCOW.get_intended_key_bits">
<span class="sig-name descname"><span class="pre">get_intended_key_bits</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Sender.SenderCOW.get_intended_key_bits" title="Link to this definition"></a></dt>
<dd><p>Get the intended key bits for data pulses.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of intended key bits</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="bb84-qkd-sender">
<h4>BB84-QKD Sender<a class="headerlink" href="#bb84-qkd-sender" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="simulation.Sender.SenderBB84">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Sender.</span></span><span class="sig-name descname"><span class="pre">SenderBB84</span></span><a class="headerlink" href="#simulation.Sender.SenderBB84" title="Link to this definition"></a></dt>
<dd><p>Implements the sender side of BB84-QKD protocol.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Sender.SenderBB84.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">avg_photon_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Sender.SenderBB84.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the BB84 sender.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>avg_photon_number</strong> (<em>float</em>) – Average photon number per pulse</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If avg_photon_number is not between 0 and 1</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Sender.SenderBB84.prepare_and_send_pulse">
<span class="sig-name descname"><span class="pre">prepare_and_send_pulse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_slot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Sender.SenderBB84.prepare_and_send_pulse" title="Link to this definition"></a></dt>
<dd><p>Prepare and send a single pulse with basis and bit encoding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time_slot</strong> (<em>float</em>) – Time slot for the pulse</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (encoded_state, photon_count, chosen_bit, chosen_basis)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Sender.SenderBB84.get_pulse_info">
<span class="sig-name descname"><span class="pre">get_pulse_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_slot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Sender.SenderBB84.get_pulse_info" title="Link to this definition"></a></dt>
<dd><p>Get information about a sent pulse.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time_slot</strong> (<em>float</em>) – Time slot of the pulse</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pulse information dictionary or None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Sender.SenderBB84.get_raw_key_bits">
<span class="sig-name descname"><span class="pre">get_raw_key_bits</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Sender.SenderBB84.get_raw_key_bits" title="Link to this definition"></a></dt>
<dd><p>Get the raw key bits.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of raw key bits</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Sender.SenderBB84.get_chosen_bases">
<span class="sig-name descname"><span class="pre">get_chosen_bases</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Sender.SenderBB84.get_chosen_bases" title="Link to this definition"></a></dt>
<dd><p>Get the chosen measurement bases.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of chosen bases</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="dps-qkd-receiver">
<h4>DPS-QKD Receiver<a class="headerlink" href="#dps-qkd-receiver" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverDPS">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Receiver.</span></span><span class="sig-name descname"><span class="pre">ReceiverDPS</span></span><a class="headerlink" href="#simulation.Receiver.ReceiverDPS" title="Link to this definition"></a></dt>
<dd><p>Implements the receiver side of DPS-QKD protocol.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverDPS.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector_efficiency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dark_count_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-7</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Receiver.ReceiverDPS.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the DPS receiver.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector_efficiency</strong> (<em>float</em>) – Quantum efficiency of detectors</p></li>
<li><p><strong>dark_count_rate</strong> (<em>float</em>) – Dark count rate per nanosecond</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverDPS.receive_and_measure">
<span class="sig-name descname"><span class="pre">receive_and_measure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_slot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_pulse_photons</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_pulse_phase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous_pulse_photons</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous_pulse_phase</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Receiver.ReceiverDPS.receive_and_measure" title="Link to this definition"></a></dt>
<dd><p>Receive and measure a pulse using Mach-Zehnder interferometer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_slot</strong> (<em>float</em>) – Time slot of the pulse</p></li>
<li><p><strong>current_pulse_photons</strong> (<em>int</em>) – Photons in current pulse</p></li>
<li><p><strong>current_pulse_phase</strong> (<em>float</em>) – Phase of current pulse</p></li>
<li><p><strong>previous_pulse_photons</strong> (<em>int</em>) – Photons in previous pulse</p></li>
<li><p><strong>previous_pulse_phase</strong> (<em>float</em>) – Phase of previous pulse</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (click_dm1, click_dm2, measured_phase_diff, bob_bit)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="cow-qkd-receiver">
<h4>COW-QKD Receiver<a class="headerlink" href="#cow-qkd-receiver" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverCOW">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Receiver.</span></span><span class="sig-name descname"><span class="pre">ReceiverCOW</span></span><a class="headerlink" href="#simulation.Receiver.ReceiverCOW" title="Link to this definition"></a></dt>
<dd><p>Implements the receiver side of COW-QKD protocol.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverCOW.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector_efficiency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dark_count_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detection_threshold_photons</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Receiver.ReceiverCOW.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the COW receiver.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector_efficiency</strong> (<em>float</em>) – Quantum efficiency of detector</p></li>
<li><p><strong>dark_count_rate</strong> (<em>float</em>) – Dark count rate per nanosecond</p></li>
<li><p><strong>detection_threshold_photons</strong> (<em>float</em>) – Detection threshold in photons</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverCOW.measure_pulse">
<span class="sig-name descname"><span class="pre">measure_pulse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_slot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incident_photons</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pulse_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Receiver.ReceiverCOW.measure_pulse" title="Link to this definition"></a></dt>
<dd><p>Measure a received pulse.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_slot</strong> (<em>float</em>) – Time slot of the pulse</p></li>
<li><p><strong>incident_photons</strong> (<em>int</em>) – Number of incident photons</p></li>
<li><p><strong>pulse_type</strong> (<em>str</em>) – Type of pulse (‘data_first’, ‘data_second’, ‘monitor_first’, ‘monitor_second’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (click, bob_inferred_bit, is_monitoring_click)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverCOW.get_received_pulse_info">
<span class="sig-name descname"><span class="pre">get_received_pulse_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_slot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Receiver.ReceiverCOW.get_received_pulse_info" title="Link to this definition"></a></dt>
<dd><p>Get information about a received pulse.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time_slot</strong> (<em>float</em>) – Time slot of the pulse</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pulse information dictionary or None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverCOW.get_all_received_info">
<span class="sig-name descname"><span class="pre">get_all_received_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Receiver.ReceiverCOW.get_all_received_info" title="Link to this definition"></a></dt>
<dd><p>Get all received pulse information.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of all received pulse information</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="bb84-qkd-receiver">
<h4>BB84-QKD Receiver<a class="headerlink" href="#bb84-qkd-receiver" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverBB84">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simulation.Receiver.</span></span><span class="sig-name descname"><span class="pre">ReceiverBB84</span></span><a class="headerlink" href="#simulation.Receiver.ReceiverBB84" title="Link to this definition"></a></dt>
<dd><p>Implements the receiver side of BB84-QKD protocol.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverBB84.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector_efficiency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dark_count_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-7</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Receiver.ReceiverBB84.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the BB84 receiver.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector_efficiency</strong> (<em>float</em>) – Quantum efficiency of detector</p></li>
<li><p><strong>dark_count_rate</strong> (<em>float</em>) – Dark count rate per nanosecond</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverBB84.receive_and_measure">
<span class="sig-name descname"><span class="pre">receive_and_measure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_slot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incident_photons</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoded_state</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Receiver.ReceiverBB84.receive_and_measure" title="Link to this definition"></a></dt>
<dd><p>Receive and measure a pulse in a randomly chosen basis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_slot</strong> (<em>float</em>) – Time slot of the pulse</p></li>
<li><p><strong>incident_photons</strong> (<em>int</em>) – Number of incident photons</p></li>
<li><p><strong>encoded_state</strong> (<em>str</em>) – Encoded quantum state</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (measured_bit, chosen_basis, click_occurred)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverBB84.get_measurement_info">
<span class="sig-name descname"><span class="pre">get_measurement_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_slot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Receiver.ReceiverBB84.get_measurement_info" title="Link to this definition"></a></dt>
<dd><p>Get information about a measurement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time_slot</strong> (<em>float</em>) – Time slot of the measurement</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Measurement information dictionary or None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverBB84.get_raw_measurements">
<span class="sig-name descname"><span class="pre">get_raw_measurements</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Receiver.ReceiverBB84.get_raw_measurements" title="Link to this definition"></a></dt>
<dd><p>Get all raw measurement results.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of raw measurements</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simulation.Receiver.ReceiverBB84.get_chosen_bases">
<span class="sig-name descname"><span class="pre">get_chosen_bases</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#simulation.Receiver.ReceiverBB84.get_chosen_bases" title="Link to this definition"></a></dt>
<dd><p>Get all chosen measurement bases.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of chosen bases</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="analysis-functions">
<h3>Analysis Functions<a class="headerlink" href="#analysis-functions" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="main.calculate_qber">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">calculate_qber</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alice_sifted_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bob_sifted_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.calculate_qber" title="Link to this definition"></a></dt>
<dd><p>Calculate the Quantum Bit Error Rate (QBER) using a random sample.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alice_sifted_key</strong> (<em>list</em>) – Alice’s sifted key</p></li>
<li><p><strong>bob_sifted_key</strong> (<em>list</em>) – Bob’s sifted key</p></li>
<li><p><strong>dr</strong> (<em>float</em>) – Disclose rate for QBER estimation (0-1)</p></li>
<li><p><strong>seed</strong> (<em>int</em>) – Random seed for reproducible results</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (qber, num_errors)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If keys have different lengths</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.postprocessing">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">postprocessing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_key_length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qber</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_correction_efficiency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">privacy_amplification_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.postprocessing" title="Link to this definition"></a></dt>
<dd><p>Simulate QKD post-processing steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_key_length</strong> (<em>int</em>) – Length of raw sifted key</p></li>
<li><p><strong>qber</strong> (<em>float</em>) – Quantum Bit Error Rate</p></li>
<li><p><strong>dr</strong> (<em>float</em>) – Disclose rate for parameter estimation</p></li>
<li><p><strong>error_correction_efficiency</strong> (<em>float</em>) – Error correction efficiency factor</p></li>
<li><p><strong>privacy_amplification_ratio</strong> (<em>float</em>) – Privacy amplification compression ratio</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (final_key_length, postprocessing_breakdown)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="simulation-functions">
<h3>Simulation Functions<a class="headerlink" href="#simulation-functions" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="main.run_point_to_point_simulation">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">run_point_to_point_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_pulses_per_link</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_km</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector_efficiency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dark_count_rate_per_ns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pulse_repetition_rate_ns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.run_point_to_point_simulation" title="Link to this definition"></a></dt>
<dd><p>Run a point-to-point QKD simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_pulses_per_link</strong> (<em>int</em>) – Number of pulses per link</p></li>
<li><p><strong>distance_km</strong> (<em>float</em>) – Distance between nodes in kilometers</p></li>
<li><p><strong>mu</strong> (<em>float</em>) – Average photon number per pulse</p></li>
<li><p><strong>detector_efficiency</strong> (<em>float</em>) – Quantum efficiency of detector</p></li>
<li><p><strong>dark_count_rate_per_ns</strong> (<em>float</em>) – Dark count rate per nanosecond</p></li>
<li><p><strong>pulse_repetition_rate_ns</strong> (<em>float</em>) – Pulse repetition rate in nanoseconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (final_key_length, qber)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.run_multi_node_trusted_relay_simulation">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">run_multi_node_trusted_relay_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_pulses_per_link</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link_distance_km</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_relays</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector_efficiency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dark_count_rate_per_ns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pulse_repetition_rate_ns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.run_multi_node_trusted_relay_simulation" title="Link to this definition"></a></dt>
<dd><p>Run a multi-node trusted relay QKD simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_pulses_per_link</strong> (<em>int</em>) – Number of pulses per link</p></li>
<li><p><strong>link_distance_km</strong> (<em>float</em>) – Distance per link in kilometers</p></li>
<li><p><strong>num_relays</strong> (<em>int</em>) – Number of relay nodes</p></li>
<li><p><strong>mu</strong> (<em>float</em>) – Average photon number per pulse</p></li>
<li><p><strong>detector_efficiency</strong> (<em>float</em>) – Quantum efficiency of detector</p></li>
<li><p><strong>dark_count_rate_per_ns</strong> (<em>float</em>) – Dark count rate per nanosecond</p></li>
<li><p><strong>pulse_repetition_rate_ns</strong> (<em>float</em>) – Pulse repetition rate in nanoseconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Final end-to-end raw sifted key</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.run_point_to_point_cow_simulation">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">run_point_to_point_cow_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_pulses_per_link</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_km</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector_efficiency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dark_count_rate_per_ns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pulse_repetition_rate_ns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cow_monitor_pulse_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cow_detection_threshold_photons</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cow_extinction_ratio_db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bit_flip_error_prob</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.run_point_to_point_cow_simulation" title="Link to this definition"></a></dt>
<dd><p>Run a point-to-point COW-QKD simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_pulses_per_link</strong> (<em>int</em>) – Number of pulses per link</p></li>
<li><p><strong>distance_km</strong> (<em>float</em>) – Distance between nodes in kilometers</p></li>
<li><p><strong>mu</strong> (<em>float</em>) – Average photon number per pulse</p></li>
<li><p><strong>detector_efficiency</strong> (<em>float</em>) – Quantum efficiency of detector</p></li>
<li><p><strong>dark_count_rate_per_ns</strong> (<em>float</em>) – Dark count rate per nanosecond</p></li>
<li><p><strong>pulse_repetition_rate_ns</strong> (<em>float</em>) – Pulse repetition rate in nanoseconds</p></li>
<li><p><strong>cow_monitor_pulse_ratio</strong> (<em>float</em>) – COW monitoring pulse ratio</p></li>
<li><p><strong>cow_detection_threshold_photons</strong> (<em>float</em>) – COW detection threshold</p></li>
<li><p><strong>cow_extinction_ratio_db</strong> (<em>float</em>) – COW extinction ratio in dB</p></li>
<li><p><strong>bit_flip_error_prob</strong> (<em>float</em>) – Bit flip error probability</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (final_key_length, qber)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="rest-api">
<h2>REST API<a class="headerlink" href="#rest-api" title="Link to this heading"></a></h2>
<p>The platform provides a REST API for programmatic access to simulations.</p>
<section id="base-url">
<h3>Base URL<a class="headerlink" href="#base-url" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Development</strong>: <cite>http://127.0.0.1:8000</cite></p></li>
<li><p><strong>Production</strong>: Configure as needed</p></li>
</ul>
</section>
<section id="endpoints">
<h3>Endpoints<a class="headerlink" href="#endpoints" title="Link to this heading"></a></h3>
</section>
</section>
<section id="data-models">
<h2>Data Models<a class="headerlink" href="#data-models" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.NodeModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.</span></span><span class="sig-name descname"><span class="pre">NodeModel</span></span><a class="headerlink" href="#api.NodeModel" title="Link to this definition"></a></dt>
<dd><p>Pydantic model for node configuration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.NodeModel.id">
<span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#api.NodeModel.id" title="Link to this definition"></a></dt>
<dd><p>Node identifier (int)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.NodeModel.detector_efficiency">
<span class="sig-name descname"><span class="pre">detector_efficiency</span></span><a class="headerlink" href="#api.NodeModel.detector_efficiency" title="Link to this definition"></a></dt>
<dd><p>Quantum efficiency of detector (float, 0-1)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.NodeModel.dark_count_rate">
<span class="sig-name descname"><span class="pre">dark_count_rate</span></span><a class="headerlink" href="#api.NodeModel.dark_count_rate" title="Link to this definition"></a></dt>
<dd><p>Dark count rate per nanosecond (float)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.NodeModel.mu">
<span class="sig-name descname"><span class="pre">mu</span></span><a class="headerlink" href="#api.NodeModel.mu" title="Link to this definition"></a></dt>
<dd><p>Average photon number per pulse (float, 0-1)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.NodeModel.num_pulses">
<span class="sig-name descname"><span class="pre">num_pulses</span></span><a class="headerlink" href="#api.NodeModel.num_pulses" title="Link to this definition"></a></dt>
<dd><p>Number of pulses to generate (int)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.NodeModel.pulse_repetition_rate">
<span class="sig-name descname"><span class="pre">pulse_repetition_rate</span></span><a class="headerlink" href="#api.NodeModel.pulse_repetition_rate" title="Link to this definition"></a></dt>
<dd><p>Pulse repetition rate in nanoseconds (float)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.ChannelModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.</span></span><span class="sig-name descname"><span class="pre">ChannelModel</span></span><a class="headerlink" href="#api.ChannelModel" title="Link to this definition"></a></dt>
<dd><p>Pydantic model for channel configuration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.ChannelModel.id">
<span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#api.ChannelModel.id" title="Link to this definition"></a></dt>
<dd><p>Channel identifier (int)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.ChannelModel.from_">
<span class="sig-name descname"><span class="pre">from_</span></span><a class="headerlink" href="#api.ChannelModel.from_" title="Link to this definition"></a></dt>
<dd><p>Source node ID (int, alias ‘from’)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.ChannelModel.to">
<span class="sig-name descname"><span class="pre">to</span></span><a class="headerlink" href="#api.ChannelModel.to" title="Link to this definition"></a></dt>
<dd><p>Destination node ID (int)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.ChannelModel.fiber_length_km">
<span class="sig-name descname"><span class="pre">fiber_length_km</span></span><a class="headerlink" href="#api.ChannelModel.fiber_length_km" title="Link to this definition"></a></dt>
<dd><p>Fiber length in kilometers (float)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.ChannelModel.fiber_attenuation_db_per_km">
<span class="sig-name descname"><span class="pre">fiber_attenuation_db_per_km</span></span><a class="headerlink" href="#api.ChannelModel.fiber_attenuation_db_per_km" title="Link to this definition"></a></dt>
<dd><p>Fiber attenuation in dB per kilometer (float)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.ChannelModel.wavelength_nm">
<span class="sig-name descname"><span class="pre">wavelength_nm</span></span><a class="headerlink" href="#api.ChannelModel.wavelength_nm" title="Link to this definition"></a></dt>
<dd><p>Operating wavelength in nanometers (int)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.ChannelModel.fiber_type">
<span class="sig-name descname"><span class="pre">fiber_type</span></span><a class="headerlink" href="#api.ChannelModel.fiber_type" title="Link to this definition"></a></dt>
<dd><p>Type of fiber (str)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.ChannelModel.phase_flip_prob">
<span class="sig-name descname"><span class="pre">phase_flip_prob</span></span><a class="headerlink" href="#api.ChannelModel.phase_flip_prob" title="Link to this definition"></a></dt>
<dd><p>Probability of phase flip noise (float, 0-1, default 0.05)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.SimParams">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.</span></span><span class="sig-name descname"><span class="pre">SimParams</span></span><a class="headerlink" href="#api.SimParams" title="Link to this definition"></a></dt>
<dd><p>Pydantic model for simulation parameters.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.SimParams.protocol">
<span class="sig-name descname"><span class="pre">protocol</span></span><a class="headerlink" href="#api.SimParams.protocol" title="Link to this definition"></a></dt>
<dd><p>QKD protocol to use (str: “dps”, “cow”, or “bb84”)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.SimParams.nodes">
<span class="sig-name descname"><span class="pre">nodes</span></span><a class="headerlink" href="#api.SimParams.nodes" title="Link to this definition"></a></dt>
<dd><p>List of node configurations (List[NodeModel])</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.SimParams.channels">
<span class="sig-name descname"><span class="pre">channels</span></span><a class="headerlink" href="#api.SimParams.channels" title="Link to this definition"></a></dt>
<dd><p>List of channel configurations (List[ChannelModel])</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.SimParams.cow_monitor_pulse_ratio">
<span class="sig-name descname"><span class="pre">cow_monitor_pulse_ratio</span></span><a class="headerlink" href="#api.SimParams.cow_monitor_pulse_ratio" title="Link to this definition"></a></dt>
<dd><p>COW monitoring pulse ratio (float, 0-1)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.SimParams.cow_detection_threshold_photons">
<span class="sig-name descname"><span class="pre">cow_detection_threshold_photons</span></span><a class="headerlink" href="#api.SimParams.cow_detection_threshold_photons" title="Link to this definition"></a></dt>
<dd><p>COW detection threshold in photons (float)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.SimParams.cow_extinction_ratio_db">
<span class="sig-name descname"><span class="pre">cow_extinction_ratio_db</span></span><a class="headerlink" href="#api.SimParams.cow_extinction_ratio_db" title="Link to this definition"></a></dt>
<dd><p>COW extinction ratio in dB (float)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.SimParams.bit_flip_error_prob">
<span class="sig-name descname"><span class="pre">bit_flip_error_prob</span></span><a class="headerlink" href="#api.SimParams.bit_flip_error_prob" title="Link to this definition"></a></dt>
<dd><p>Bit flip error probability (float, 0-1, default 0.05)</p>
</dd></dl>

</dd></dl>

</section>
<section id="error-handling">
<h2>Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading"></a></h2>
<p>The API uses standard HTTP status codes:</p>
<ul class="simple">
<li><p><strong>200 OK</strong>: Successful simulation</p></li>
<li><p><strong>400 Bad Request</strong>: Invalid parameters</p></li>
<li><p><strong>422 Unprocessable Entity</strong>: Validation errors</p></li>
<li><p><strong>500 Internal Server Error</strong>: Simulation errors</p></li>
</ul>
<p>Error responses include detailed error messages:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;detail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Error message describing the issue&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="cors-support">
<h2>CORS Support<a class="headerlink" href="#cors-support" title="Link to this heading"></a></h2>
<p>The API includes CORS middleware to support web frontend integration:</p>
<ul class="simple">
<li><p><strong>Allowed Origins</strong>: <cite>http://localhost:3000</cite>, <cite>http://localhost:3001</cite></p></li>
<li><p><strong>Allowed Methods</strong>: All HTTP methods</p></li>
<li><p><strong>Allowed Headers</strong>: All headers</p></li>
<li><p><strong>Credentials</strong>: Supported</p></li>
</ul>
</section>
<section id="frontend-components">
<h2>Frontend Components<a class="headerlink" href="#frontend-components" title="Link to this heading"></a></h2>
<section id="react-components">
<h3>React Components<a class="headerlink" href="#react-components" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="QKDForm">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QKDForm</span></span><a class="headerlink" href="#QKDForm" title="Link to this definition"></a></dt>
<dd><p>Protocol selection and parameter configuration component.</p>
<p><strong>Props</strong>:</p>
<ul class="simple">
<li><p><cite>params</cite> (object): Current simulation parameters</p></li>
<li><p><cite>onChange</cite> (function): Callback for parameter changes</p></li>
</ul>
<p><strong>Features</strong>:</p>
<ul class="simple">
<li><p>Protocol selection (DPS, COW, BB84)</p></li>
<li><p>Protocol-specific parameter configuration</p></li>
<li><p>Real-time parameter validation</p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="QKDNetwork">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QKDNetwork</span></span><a class="headerlink" href="#QKDNetwork" title="Link to this definition"></a></dt>
<dd><p>Interactive network topology builder component.</p>
<p><strong>Props</strong>:</p>
<ul class="simple">
<li><p><cite>onNetworkChange</cite> (function): Callback for network changes</p></li>
</ul>
<p><strong>Features</strong>:</p>
<ul class="simple">
<li><p>Drag-and-drop node placement</p></li>
<li><p>Visual channel connections</p></li>
<li><p>Node and channel parameter editing</p></li>
<li><p>Undo/redo functionality</p></li>
<li><p>Network topology export/import</p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="Results">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Results</span></span><a class="headerlink" href="#Results" title="Link to this definition"></a></dt>
<dd><p>Simulation results display and analysis component.</p>
<p><strong>Props</strong>:</p>
<ul class="simple">
<li><p><cite>results</cite> (array): Simulation results</p></li>
<li><p><cite>loading</cite> (boolean): Loading state</p></li>
</ul>
<p><strong>Features</strong>:</p>
<ul class="simple">
<li><p>Per-channel result display</p></li>
<li><p>QBER visualization</p></li>
<li><p>Key rate analysis</p></li>
<li><p>Theory compliance warnings</p></li>
<li><p>Detailed parameter breakdown</p></li>
</ul>
</dd></dl>

</section>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Link to this heading"></a></h2>
<section id="environment-variables">
<h3>Environment Variables<a class="headerlink" href="#environment-variables" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><cite>QKD_API_HOST</cite>: API host address (default: “127.0.0.1”)</p></li>
<li><p><cite>QKD_API_PORT</cite>: API port (default: 8000)</p></li>
<li><p><cite>QKD_FRONTEND_PORT</cite>: Frontend port (default: 3000)</p></li>
<li><p><cite>QKD_LOG_LEVEL</cite>: Logging level (default: “INFO”)</p></li>
</ul>
</section>
<section id="configuration-files">
<h3>Configuration Files<a class="headerlink" href="#configuration-files" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><cite>requirements.txt</cite>: Python dependencies</p></li>
<li><p><cite>package.json</cite>: Node.js dependencies</p></li>
<li><p><cite>conf.py</cite>: Sphinx documentation configuration</p></li>
</ul>
</section>
</section>
<section id="performance-considerations">
<h2>Performance Considerations<a class="headerlink" href="#performance-considerations" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>Memory Usage</strong>: Large simulations may require significant memory</p></li>
<li><p><strong>CPU Usage</strong>: Multi-core processing for parallel simulations</p></li>
<li><p><strong>Network I/O</strong>: API calls for real-time simulation control</p></li>
<li><p><strong>Storage</strong>: Results caching and logging</p></li>
</ul>
</section>
<section id="security-considerations">
<h2>Security Considerations<a class="headerlink" href="#security-considerations" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>Input Validation</strong>: All parameters are validated before processing</p></li>
<li><p><strong>Error Handling</strong>: Comprehensive error handling prevents information leakage</p></li>
<li><p><strong>CORS</strong>: Proper CORS configuration for web integration</p></li>
<li><p><strong>Rate Limiting</strong>: Consider implementing rate limiting for production use</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="user-guide.html" class="btn btn-neutral float-left" title="User Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="simulation-models.html" class="btn btn-neutral float-right" title="Simulation Models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Jayesh Patil.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>